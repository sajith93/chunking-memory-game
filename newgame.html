<!DOCTYPE html>
<html>
<head>
  <title>Chunking Memory Game</title>
  <style>
    /* CSS styles for the game interface */
    .grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-template-rows: repeat(8, 1fr);
      width: 400px;
      height: 400px;
    }

    .cell {
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
    }

    .start-button, .submit-button {
      margin-top: 10px;
      font-size: 16px;
      padding: 5px 10px;
      cursor: pointer;
    }

    .message {
      margin-top: 10px;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>Chunking Memory Game</h1>
  <div class="grid"></div>
  <button class="start-button">Start Game</button>
  <button class="submit-button">Submit</button>
  <p class="message"></p>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const grid = document.querySelector('.grid');
      const startButton = document.querySelector('.start-button');
      const submitButton = document.querySelector('.submit-button');
      const message = document.querySelector('.message');

      const objects = [
        { shape: 'square', color: 'red' },
        { shape: 'square', color: 'black' },
        { shape: 'circle', color: 'red' },
        { shape: 'circle', color: 'black' }
      ];

      let sequence = [];
      let playerSelection = [];
      let isPlaying = false;

      // Generate random positions for the objects
      function generateRandomPositions() {
        const positions = [];

        while (positions.length < 16) {
          const randomPosition = Math.floor(Math.random() * 64);
          if (!positions.includes(randomPosition)) {
            positions.push(randomPosition);
          }
        }

        return positions;
      }

      // Display the objects on the grid
      function displayObjects() {
        grid.innerHTML = '';

        const positions = generateRandomPositions();

        for (let i = 0; i < 64; i++) {
          const cell = document.createElement('div');
          cell.classList.add('cell');
          cell.dataset.position = i;

          const objectIndex = positions.indexOf(i % 16);
          if (objectIndex !== -1) {
            const { shape, color } = objects[objectIndex % 4];
            cell.textContent = shape === 'square' ? '■' : '●';
            cell.style.color = color;
          }

          grid.appendChild(cell);
        }
      }

      // Start the game by displaying the sequence
      function startGame() {
        if (!isPlaying) {
          isPlaying = true;
          sequence = generateRandomPositions();
          displaySequence();
          setTimeout(hideSequence, 2000);
        }
      }

      // Display the sequence of object positions
      function displaySequence() {
        sequence.forEach((position, index) => {
          setTimeout(() => {
            const cell = document.querySelector(`.cell[data-position="${position % 16}"]`);
            cell.classList.add('highlight');
            setTimeout(() => {
              cell.classList.remove('highlight');
            }, 500);
          }, 1000 * index);
        });
      }

      // Hide the sequence after displaying it
      function hideSequence() {
        grid.querySelectorAll('.cell').forEach(cell => {
          cell.textContent = '';
        });
      }

      // Handle player's object selection
      function selectObject(event) {
        if (isPlaying && playerSelection.length < sequence.length) {
          const cell = event.target.closest('.cell');
          if (cell && !cell.classList.contains('selected')) {
            cell.classList.add('selected');
            const position = parseInt(cell.dataset.position);
            playerSelection.push(position % 16);
          }
        }
      }

      // Submit the player's answer
      function submitAnswer() {
        if (isPlaying && playerSelection.length === sequence.length) {
          isPlaying = false;

          // Compare the player's answer with the correct sequence
          const isCorrect = sequence.every((position, index) => playerSelection[index] === position % 16);

          // Provide feedback to the player
          message.textContent = isCorrect ? 'Correct answer!' : 'Incorrect answer!';
          message.style.color = isCorrect ? 'green' : 'red';

          // Clear player's selection after a delay
          setTimeout(() => {
            grid.querySelectorAll('.cell').forEach(cell => {
              cell.classList.remove('selected');
            });
            playerSelection = [];
            message.textContent = '';
          }, 1500);
        }
      }

      // Event listeners
      startButton.addEventListener('click', startGame);
      grid.addEventListener('click', selectObject);
      submitButton.addEventListener('click', submitAnswer);
    });
  </script>
</body>
</html>
